webpackJsonp([1],{"2NXm":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={name:"PageIndex",data:function(){return{userLogin:{},userSignup:{},opened:!1,messError:""}},methods:{signup:function(){var e=this;this.$axios.post("/api/signup/",this.userSignup).then(function(n){console.log(n),e.opened=!1,e.user={}}).catch(function(n){e.messError=n.response.data})},login:function(){var e=this;this.$axios.post("/api/login/",this.userLogin).then(function(n){var o=n.data.token;e.$q.localStorage.set("token",o),e.$store.dispatch("global/addUser",e.userLogin),e.$store.dispatch("global/addToken",o),e.$store.dispatch("global/connected"),e.$router.push("todos")}).catch(function(e){})}},watch:{messError:function(){this.$q.notify({color:"red",icon:"warning",message:this.message,position:"center",timeout:1e3})}}},t=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("q-page",[o("q-input",{attrs:{type:"email",placeholder:"E-mail"},model:{value:e.userLogin.email,callback:function(n){e.$set(e.userLogin,"email",n)},expression:"userLogin.email"}}),e._v(" "),o("q-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.userLogin.password,callback:function(n){e.$set(e.userLogin,"password",n)},expression:"userLogin.password"}}),e._v(" "),o("q-btn",{on:{click:function(n){e.opened=!0}}},[e._v("Cr√©er un utilisateur")]),e._v(" "),o("q-btn",{on:{click:e.login}},[e._v("Se connecter")]),e._v(" "),o("q-modal",{model:{value:e.opened,callback:function(n){e.opened=n},expression:"opened"}},[o("h4",[e._v("Saisir votre utilisateur")]),e._v(" "),o("form",{on:{submit:function(n){return n.preventDefault(),e.signup(n)}}},[o("q-input",{attrs:{type:"email",placeholder:"E-mail"},model:{value:e.userSignup.email,callback:function(n){e.$set(e.userSignup,"email",n)},expression:"userSignup.email"}}),e._v(" "),o("q-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.userSignup.password,callback:function(n){e.$set(e.userSignup,"password",n)},expression:"userSignup.password"}}),e._v(" "),o("q-btn",[e._v("Enregistrer")])],1),e._v(" "),o("q-btn",{attrs:{color:"primary",label:"Close"},on:{click:function(n){e.opened=!1}}})],1)],1)},i=[];t._withStripped=!0;var r=o("XyMi"),a=!1;var u=function(e){a||o("XaQj")},l=Object(r.a)(s,t,i,!1,u,null,null);l.options.__file="src/pages/index.vue";n.default=l.exports},R7TG:function(e,n,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},XaQj:function(e,n,o){var s=o("R7TG");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,o("rjj0").default)("66016b96",s,!1,{})}});