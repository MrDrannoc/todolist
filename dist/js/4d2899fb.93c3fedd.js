(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4d2899fb"],{1989:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{},[o("h3",{staticClass:"text-center"},[t._v("Liste des taches")]),o("q-btn",{staticClass:"btnAdd",attrs:{color:"primary"},on:{click:function(e){t.opened=!0}}},[t._v("Ajouter une tache")]),o("q-modal",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[o("q-card-title",{staticClass:"text-center bg-primary text-white"},[t._v("\n      Saisir votre tache\n    ")]),o("form",{on:{submit:function(e){e.preventDefault(),t.addTodo(),t.opened=!1}}},[o("q-input",{attrs:{"float-label":"Saisir votre todo"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),o("q-btn",{attrs:{type:"submit",align:"center"}},[t._v("Enregistrer")])],1)],1),o("div",{staticClass:"todolist"},[o("ul",t._l(t.todos,function(e,i){return o("li",{key:i},[1==e.complete?o("q-icon",{attrs:{color:"primary",name:"check_circle",size:"2em"}}):t._e(),0==e.complete?o("q-icon",{attrs:{color:"primary",name:"radio_button_unchecked",size:"2em"}}):t._e(),o("label",{staticClass:"textLabel"},[t._v(t._s(e.title))]),o("div",{staticClass:"btnLi"},[o("q-btn",{on:{click:function(o){t.updateModal=!0,Object.assign(t.todoModal,e)}}},[t._v("Modifier")]),o("q-btn",{on:{click:function(o){o.preventDefault(),t.delTodo(e.id)}}},[t._v("Supprimer")])],1),o("q-modal",{model:{value:t.updateModal,callback:function(e){t.updateModal=e},expression:"updateModal"}},[o("q-card-title",{staticClass:"text-center bg-primary text-white"},[t._v("\n            Modifier votre tache\n          ")]),o("form",{on:{submit:function(e){e.preventDefault(),t.putTodo(t.todoModal),t.updateModal=!1}}},[o("q-checkbox",{attrs:{label:"Terminée","left-label":""},model:{value:t.todoModal.complete,callback:function(e){t.$set(t.todoModal,"complete",e)},expression:"todoModal.complete"}}),o("q-input",{attrs:{"float-label":"Modifier votre todo"},model:{value:t.todoModal.title,callback:function(e){t.$set(t.todoModal,"title",e)},expression:"todoModal.title"}}),o("q-btn",{attrs:{type:"submit",align:"center"}},[t._v("Enregistrer")]),o("q-btn",{attrs:{align:"center"},on:{click:function(e){t.updateModal=!1}}},[t._v("Fermer")])],1)],1)],1)}))])],1)},n=[];i._withStripped=!0;var a={name:"PageTodos",data:function(){return{title:"",todos:[],notifyAlertType:"",notifyAlertMessage:"",opened:!1,updateModal:!1,todoModal:{id:null,title:null,complete:null}}},computed:{token:function(){return this.$store.state.global.token},connected:function(){return this.$store.state.global.connected},apiHeader:function(){return this.$store.state.global.apiHeader},userSession:function(){return this.$store.state.global.userSession},todo:function(){var t={};return t.userId=this.userSession.id,t.complete=!1,t.title=this.title,t}},mounted:function(){this.getTodos()},methods:{getTodos:function(){var t=this;this.$axios.get("/api/todolistbyuser/"+this.userSession.id,this.apiHeader).then(function(e){t.todos=e.data})},addTodo:function(){var t=this;this.$axios.post("/api/todolist/",this.todo,this.apiHeader).then(function(e){t.getTodos(),t.notifyAlertType="positive",t.notifyAlertMessage="Votre tache a été enregistrée!"})},putTodo:function(t){var e=this;this.$axios.put("/api/todolist/"+t.id,t,this.apiHeader).then(function(t){e.getTodos(),e.notifyAlertType="positive",e.notifyAlertMessage="Votre tache a été mise à jour!"})},delTodo:function(t){var e=this;this.$axios.delete("/api/todolist/"+t,this.apiHeader).then(function(t){e.getTodos(),e.notifyAlertType="positive",e.notifyAlertMessage="Votre tache a été supprimée!"})}},watch:{notifyAlertMessage:function(){this.$q.notify({type:this.notifyAlertType,message:this.notifyAlertMessage,position:"center",timeout:100})}}},s=a,l=(o("ccc2"),o("2877")),r=Object(l["a"])(s,i,n,!1,null,"0a6ba882",null);r.options.__file="todos.vue";e["default"]=r.exports},b82d:function(t,e,o){},ccc2:function(t,e,o){"use strict";var i=o("b82d"),n=o.n(i);n.a}}]);