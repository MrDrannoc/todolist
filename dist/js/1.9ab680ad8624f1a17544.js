webpackJsonp([1],{"7RC7":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{},[o("q-modal",{model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[o("q-card-title",{staticClass:"text-center bg-primary text-white"},[t._v("\n      Saisir votre tache\n    ")]),t._v(" "),o("form",{on:{submit:function(e){e.preventDefault(),t.addTodo(),t.opened=!1}}},[o("q-input",{attrs:{"float-label":"Saisir votre todo"},model:{value:t.todo.title,callback:function(e){t.$set(t.todo,"title",e)},expression:"todo.title"}}),t._v(" "),o("q-btn",{attrs:{align:"center"}},[t._v("Enregistrer")])],1)],1),t._v(" "),o("h3",{staticClass:"text-center"},[t._v("Liste des taches")]),t._v(" "),o("q-btn",{staticClass:"btnAdd",attrs:{color:"primary"},on:{click:function(e){t.opened=!0}}},[t._v("Ajouter une tache")]),t._v(" "),o("div",{staticClass:"todolist"},[o("ul",t._l(t.todos,function(e,a){return o("li",{key:a},[1==e.complete?o("q-icon",{attrs:{color:"primary",name:"check_circle",size:"2em"}}):t._e(),t._v(" "),0==e.complete?o("q-icon",{attrs:{color:"primary",name:"radio_button_unchecked",size:"2em"}}):t._e(),o("label",{staticClass:"textLabel"},[t._v(t._s(e.title))]),t._v(" "),o("div",{staticClass:"btnLi"},[o("q-btn",{on:{click:function(o){t.updateModal=!0,t.indexModal=a,t.todoModal=e}}},[t._v("Modifier")]),t._v(" "),o("q-btn",{on:{click:function(o){o.preventDefault(),t.delTodo(e.id)}}},[t._v("Supprimer")])],1),t._v(" "),o("q-modal",{model:{value:t.updateModal,callback:function(e){t.updateModal=e},expression:"updateModal"}},[o("q-card-title",{staticClass:"text-center bg-primary text-white"},[t._v("\n            Modifier votre tache\n          ")]),t._v(" "),o("form",{on:{submit:function(e){e.preventDefault(),t.putTodo(t.todoModal),t.updateModal=!1}}},[o("q-checkbox",{attrs:{label:"Terminée","left-label":""},model:{value:t.todoModal.complete,callback:function(e){t.$set(t.todoModal,"complete",e)},expression:"todoModal.complete"}}),t._v(" "),o("q-input",{attrs:{"float-label":"Modifier votre todo"},model:{value:t.todoModal.title,callback:function(e){t.$set(t.todoModal,"title",e)},expression:"todoModal.title"}}),t._v(" "),o("q-btn",{attrs:{align:"center"}},[t._v("Enregistrer")])],1)],1)],1)}))])],1)},i=[];a._withStripped=!0;var n=o("XyMi"),s=!1;var l=function(t){s||o("mkDd")},d=Object(n.a)({name:"PageTodos",data:function(){return{todo:{},todos:[],notifyAlertType:"",notifyAlertMessage:"",opened:!1,updateModal:!1,indexModal:"0",todoModal:{}}},computed:{token:function(){return this.$store.state.global.token},connected:function(){return this.$store.state.global.connected},apiHeader:function(){return this.$store.state.global.apiHeader},userSession:function(){return this.$store.state.global.userSession}},mounted:function(){var t=this;this.$axios.get("/api/todolistbyuser/"+this.userSession.id,this.apiHeader).then(function(e){t.todos=e.data})},methods:{getTodos:function(){var t=this;this.$axios.get("/api/todolistbyuser/"+this.userSession.id,this.apiHeader).then(function(e){t.todos=e.data})},addTodo:function(){var t=this;this.$axios.post("/api/todolist/",{title:this.todo.title,complete:!1,userId:this.userSession.id},this.apiHeader).then(function(e){t.getTodos(),t.todo={},t.notifyAlertType="positive",t.notifyAlertMessage="Votre tache a été enregistrée!"})},putTodo:function(t){var e=this;this.$axios.put("/api/todolist/"+t.id,{title:t.title,complete:t.complete,userId:t.userId},this.apiHeader).then(function(t){e.getTodos(),e.notifyAlertType="positive",e.notifyAlertMessage="Votre tache a été mise à jour!"})},delTodo:function(t){var e=this;this.$axios.delete("/api/todolist/"+t,this.apiHeader).then(function(t){e.getTodos(),e.notifyAlertType="positive",e.notifyAlertMessage="Votre tache a été supprimée!"})}},watch:{notifyAlertMessage:function(){this.$q.notify({type:this.notifyAlertType,message:this.notifyAlertMessage,position:"center",timeout:100})}}},a,i,!1,l,"data-v-a818aace",null);d.options.__file="src/pages/todos.vue";e.default=d.exports},ikCD:function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\nh3[data-v-a818aace] {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.btnAdd[data-v-a818aace] {\n  width: 180px;\n  position: relative;\n  left: 50vw;\n  margin-left: -90px;\n}\n.closeBtn[data-v-a818aace] {\n  position: absolute;\n  right: 0px;\n}\n.todolist[data-v-a818aace] {\n  max-width: 500px;\n  margin: auto;\n}\nli[data-v-a818aace] {\n  list-style: none;\n  height: 50px;\n}\nul[data-v-a818aace] {\n  padding-left: 0px;\n}\n.textLabel[data-v-a818aace] {\n  padding-left: 5px;\n}\n.btnLi[data-v-a818aace] {\n  float: right;\n}\n",""])},mkDd:function(t,e,o){var a=o("ikCD");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o("rjj0").default)("288c177c",a,!1,{})}});